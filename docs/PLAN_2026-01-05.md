# Plan for 2026-01-05

**Date:** 2026-01-05
**Prepared:** 2026-01-04 (Evening)
**Total Duration:** 10-12 hours
**Sessions:** 3

---

## üìã Overview

–¢—Ä–∏ —Å–µ—Å—Å–∏–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —Å —Ñ–æ–∫—É—Å–æ–º –Ω–∞ –ø–æ–ª–∏—Ä–æ–≤–∫—É —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π –∏ —Ä–∞–∑–≤–∏—Ç–∏–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –º–æ–¥—É–ª–µ–π:

1. **Session 1 (3h):** Search and Filtering ‚Äî —É–ª—É—á—à–µ–Ω–∏–µ –ø–æ–∏—Å–∫–∞ –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã
2. **Session 2 (3-4h):** Checklists ‚Äî –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —á–µ–∫-–ª–∏—Å—Ç—ã –∫–∞–∫ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ –ø–æ–¥–∑–∞–¥–∞—á–∞–º
3. **Session 3 (4-5h):** Projects ‚Äî –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π –º–æ–¥—É–ª—å –ø—Ä–æ–µ–∫—Ç–æ–≤ (–ö–†–ò–¢–ò–ß–ù–´–ô –¥–ª—è —É—Å–ø–µ—Ö–∞ –ø—Ä–æ–¥—É–∫—Ç–∞)

**–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –±—É–¥–µ—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≥–æ—Ç–æ–≤—ã–µ –º–æ–¥—É–ª–∏.

---

## üîç Session 1: Search and Filtering (3h)

### Goal
–£–ª—É—á—à–∏—Ç—å –ø–æ–∏—Å–∫ –ø–æ –∑–∞–¥–∞—á–∞–º –∏ –¥–æ–±–∞–≤–∏—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è —Ñ–∏–ª—å—Ç—Ä–æ–≤.

### Key Decisions
- **–ì–ª–æ–±–∞–ª—å–Ω—ã–π –ø–æ–∏—Å–∫:** –¢–æ–ª—å–∫–æ –∑–∞–≥–ª—É—à–∫–∞ (placeholder) –Ω–∞ MVP
- **–õ–æ–∫–∞–ª—å–Ω—ã–π –ø–æ–∏—Å–∫:** –£–ª—É—á—à–µ–Ω–∏—è –≤ TaskList (highlight, debounce)
- **Saved filters:** Backend –º–æ–¥–µ–ª—å + frontend UI

### Tasks

#### 1.1 –ì–ª–æ–±–∞–ª—å–Ω—ã–π –ø–æ–∏—Å–∫ ‚Äî –∑–∞–≥–ª—É—à–∫–∞ (0.5h)

**Backend:** –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è

**Frontend:**
- [ ] –î–æ–±–∞–≤–∏—Ç—å –∏–∫–æ–Ω–∫—É üîç –≤ Header (—Å–ø—Ä–∞–≤–∞ –æ—Ç –ª–æ–≥–æ—Ç–∏–ø–∞)
- [ ] –°–æ–∑–¥–∞—Ç—å placeholder UI —Å —Ç–µ–∫—Å—Ç–æ–º "–ü–æ–∏—Å–∫ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ"
- [ ] –î–æ–±–∞–≤–∏—Ç—å hint –¥–ª—è keyboard shortcuts (Cmd/Ctrl + K)
- [ ] –î–æ–±–∞–≤–∏—Ç—å visual feedback (hover, focus states)

**Files to modify:**
- `frontend/src/shared/layout/Header.tsx`

---

#### 1.2 –£–ª—É—á—à–µ–Ω–∏–µ –ø–æ–∏—Å–∫–∞ –≤ TaskList (1h)

**Backend:** –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è (–∏—Å–ø–æ–ª—å–∑—É–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π GET /tasks?search=...)

**Frontend:**
- [ ] –î–æ–±–∞–≤–∏—Ç—å debounce (500ms) –∫ search input –≤ TaskFilters
- [ ] –î–æ–±–∞–≤–∏—Ç—å highlight –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö —Å–ª–æ–≤ –≤ TaskRow (title)
- [ ] –î–æ–±–∞–≤–∏—Ç—å —Å—á–µ—Ç—á–∏–∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ ("–ù–∞–π–¥–µ–Ω–æ: X –∑–∞–¥–∞—á")
- [ ] –î–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É –æ—á–∏—Å—Ç–∫–∏ –ø–æ–∏—Å–∫–∞
- [ ] –°–æ—Ö—Ä–∞–Ω—è—Ç—å query –≤ URL (?search=...)

**Files to modify:**
- `frontend/src/modules/tasks/components/TaskFilters.tsx`
- `frontend/src/modules/tasks/components/TaskRow.tsx` (highlight utility)
- `frontend/src/shared/lib/utils.ts` (add highlightText function)

---

#### 1.3 Saved Filter Views (1.5h)

**Backend:**
- [ ] Create UserView model:
  ```python
  class UserView(Base):
      id: UUID
      user_id: UUID (FK)
      name: str  # "–ú–æ–∏ –∑–∞–¥–∞—á–∏", "–ü—Ä–æ–±–ª–µ–º–Ω—ã–µ –∑–∞–¥–∞—á–∏", etc.
      entity_type: str  # "task", "project", "board"
      filters_json: dict  # JSONB with filter configuration
      is_default: bool
      sort_order: int
      created_at, updated_at
  ```
- [ ] Create UserViewService (CRUD)
- [ ] Create router:
  - GET /views?entity_type=task
  - POST /views
  - PATCH /views/{id}
  - DELETE /views/{id}
- [ ] Create migration
- [ ] Write tests (10 scenarios)

**Frontend:**
- [ ] Create modules/views/ (types, api, hooks)
- [ ] Add "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã" button to TaskFilters
- [ ] Create SaveViewModal (name input, is_default checkbox)
- [ ] Create ViewSelector dropdown (—Å–ø–∏—Å–æ–∫ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö)
- [ ] Add "–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è" link
- [ ] Apply selected view to TaskList

**Files to create:**
- `backend/app/modules/views/__init__.py`
- `backend/app/modules/views/models.py`
- `backend/app/modules/views/schemas.py`
- `backend/app/modules/views/service.py`
- `backend/app/modules/views/router.py`
- `alembic/versions/*_create_user_views_table.py`
- `tests/test_views_api.py`
- `frontend/src/modules/views/types.ts`
- `frontend/src/modules/views/api.ts`
- `frontend/src/modules/views/hooks/useViews.ts`

**Files to modify:**
- `frontend/src/modules/tasks/components/TaskFilters.tsx` (add save/load buttons)
- `frontend/src/pages/TasksPage.tsx` (view selector integration)

---

## ‚úÖ Session 2: Checklists (3-4h)

### Goal
–î–æ–±–∞–≤–∏—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–æ–∑–¥–∞–Ω–∏—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —á–µ–∫-–ª–∏—Å—Ç–æ–≤ –Ω–∞ –∑–∞–¥–∞—á—É –∫–∞–∫ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–± –¥–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏–∏ (–≤–º–µ—Å—Ç–æ –ø–æ–¥–∑–∞–¥–∞—á).

### Key Decisions
- **–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —á–µ–∫-–ª–∏—Å—Ç—ã:** –û–¥–Ω–∞ –∑–∞–¥–∞—á–∞ –º–æ–∂–µ—Ç –∏–º–µ—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —á–µ–∫-–ª–∏—Å—Ç–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä: "–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ", "–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è", "–†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ")
- **–ü–ª–æ—Å–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:** NO nesting for MVP (—Ç–æ–ª—å–∫–æ 1 —É—Ä–æ–≤–µ–Ω—å items)
- **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ –ø–æ–¥–∑–∞–¥–∞—á–∞–º:** –ß–µ–∫-–ª–∏—Å—Ç—ã ‚Äî —ç—Ç–æ –±—ã—Å—Ç—Ä—ã–π —Å–ø–æ—Å–æ–± —Ä–∞–∑–±–∏—Ç—å –∑–∞–¥–∞—á—É –±–µ–∑ —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á

### Current State
- –ß–µ–∫-–ª–∏—Å—Ç—ã —É–∂–µ –µ—Å—Ç—å –≤ backend (Session 2.3, –º–æ–¥—É–ª—å completed)
- –ú–æ–¥–µ–ª—å ChecklistItem –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç—å (ltree), –Ω–æ –º—ã –ù–ï –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–∞ MVP

### Tasks

#### 2.1 Review Backend Checklists Module (0.5h)

**Goal:** –ü–æ–Ω—è—Ç—å —Ç–µ–∫—É—â—É—é –∏–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏—é –∏ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è

**Tasks:**
- [ ] –ß–∏—Ç–∞–µ–º `backend/app/modules/checklists/models.py`
- [ ] –ß–∏—Ç–∞–µ–º `backend/app/modules/checklists/service.py`
- [ ] –ß–∏—Ç–∞–µ–º `backend/app/modules/checklists/router.py`
- [ ] –ü—Ä–æ–≤–µ—Ä—è–µ–º endpoints (–¥–æ–ª–∂–Ω—ã –±—ã—Ç—å: GET, POST, PATCH, DELETE)
- [ ] –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ç–µ—Å—Ç—ã (`tests/test_checklists.py` –∏–ª–∏ similar)

**Expected Result:**
- –ü–æ–Ω–∏–º–∞–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ API
- –°–ø–∏—Å–æ–∫ endpoint'–æ–≤ –¥–ª—è frontend
- –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ, –Ω—É–∂–Ω—ã –ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ backend

---

#### 2.2 Backend Adjustments (if needed) (0.5h)

**Possible changes:**
- [ ] Ensure GET /tasks/{id}/checklists endpoint exists
- [ ] Ensure POST /checklists/{id}/items/{item_id}/toggle endpoint exists
- [ ] Add get_checklists_by_task to service if missing
- [ ] Add progress calculation (completed / total items) to ChecklistResponse
- [ ] Update tests if needed

**Files to modify:**
- `backend/app/modules/checklists/service.py`
- `backend/app/modules/checklists/router.py`
- `backend/app/modules/checklists/schemas.py` (add progress field)

---

#### 2.3 Frontend Checklists Module (2-3h)

**Goal:** Create full UI for checklists management

**Tasks:**

##### 2.3.1 Types, API, Hooks (0.5h)
- [ ] Create `frontend/src/modules/checklists/types.ts`:
  ```typescript
  export interface Checklist {
    id: string;
    task_id: string;
    title: string;
    items: ChecklistItem[];
    progress: { total: number; completed: number };
    created_at: string;
    updated_at: string;
  }

  export interface ChecklistItem {
    id: string;
    checklist_id: string;
    title: string;
    is_completed: boolean;
    position: number;
    created_at: string;
  }
  ```
- [ ] Create `api.ts` (getChecklists, createChecklist, updateChecklist, deleteChecklist, toggleItem, createItem, deleteItem)
- [ ] Create hooks (useChecklists, useChecklistMutations)

##### 2.3.2 Components (1.5h)
- [ ] Create `ChecklistsPanel.tsx` ‚Äî container –¥–ª—è –≤—Å–µ—Ö —á–µ–∫-–ª–∏—Å—Ç–æ–≤ –∑–∞–¥–∞—á–∏
  - Header: "–ß–µ–∫-–ª–∏—Å—Ç—ã" + "–î–æ–±–∞–≤–∏—Ç—å —á–µ–∫-–ª–∏—Å—Ç" button
  - List of ChecklistCard components
  - Empty state: "–ù–µ—Ç —á–µ–∫-–ª–∏—Å—Ç–æ–≤. –°–æ–∑–¥–∞–π—Ç–µ –ø–µ—Ä–≤—ã–π!"

- [ ] Create `ChecklistCard.tsx` ‚Äî –æ–¥–∏–Ω —á–µ–∫-–ª–∏—Å—Ç
  - Title (editable inline)
  - Progress bar (X / Y –∑–∞–≤–µ—Ä—à–µ–Ω–æ)
  - List of ChecklistItem components
  - "–î–æ–±–∞–≤–∏—Ç—å –ø—É–Ω–∫—Ç" input (inline)
  - Delete checklist button (confirmation)

- [ ] Create `ChecklistItem.tsx` ‚Äî –æ–¥–∏–Ω –ø—É–Ω–∫—Ç —á–µ–∫-–ª–∏—Å—Ç–∞
  - Checkbox (toggle completed)
  - Title (editable inline)
  - Delete button (hover state)

##### 2.3.3 Integration (0.5h)
- [ ] Add ChecklistsPanel to TaskDetailPage
- [ ] Position: after Subtasks section, before Documents tab
- [ ] Add checklist progress indicator to TaskRow (optional, if time permits)
  - Show icon with tooltip: "3 / 5 –ø—É–Ω–∫—Ç–æ–≤ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ"

**Files to create:**
- `frontend/src/modules/checklists/types.ts`
- `frontend/src/modules/checklists/api.ts`
- `frontend/src/modules/checklists/hooks/useChecklists.ts`
- `frontend/src/modules/checklists/hooks/useChecklistMutations.ts`
- `frontend/src/modules/checklists/components/ChecklistsPanel.tsx`
- `frontend/src/modules/checklists/components/ChecklistCard.tsx`
- `frontend/src/modules/checklists/components/ChecklistItem.tsx`
- `frontend/src/modules/checklists/index.ts`

**Files to modify:**
- `frontend/src/pages/TaskDetailPage.tsx` (add ChecklistsPanel)
- `frontend/src/modules/tasks/components/TaskRow.tsx` (optional progress indicator)

---

## üöÄ Session 3: Projects Module ‚Äî Full Development (4-5h)

### Goal
–°–æ–∑–¥–∞—Ç—å –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π –º–æ–¥—É–ª—å –ø—Ä–æ–µ–∫—Ç–æ–≤ ‚Äî –∫–ª—é—á–µ–≤–æ–π –¥–∏—Ñ—Ñ–µ—Ä–µ–Ω—Ü–∏–∞—Ç–æ—Ä SmartTask360 –æ—Ç –ø—Ä–æ—Å—Ç–æ–≥–æ —Ç–∞—Å–∫-—Ç—Ä–µ–∫–µ—Ä–∞.

### Why It's Critical
**–ë–µ–∑ Projects –º–æ–¥—É–ª—è SmartTask360 ‚Äî —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ —Ç–∞—Å–∫-—Ç—Ä–µ–∫–µ—Ä —Å AI.**

**–° Projects –º–æ–¥—É–ª–µ–º SmartTask360 —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è:**
- –°–∏—Å—Ç–µ–º–æ–π —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞–º–∏ —Å AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–æ–º
- –ü–ª–∞—Ç—Ñ–æ—Ä–º–æ–π –¥–ª—è –∫–æ–º–∞–Ω–¥–Ω–æ–π —Ä–∞–±–æ—Ç—ã
- –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º –¥–ª—è –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –∫–æ–Ω—Ç—Ä–æ–ª—è
- –û—Å–Ω–æ–≤–æ–π –¥–ª—è –±—É–¥—É—â–µ–≥–æ –∫–∞—Å–∫–∞–¥–∏—Ä–æ–≤–∞–Ω–∏—è (OKR ‚Üí Projects ‚Üí Tasks)

### Key Concepts

#### Project Lifecycle
```
Planning ‚Üí Active ‚Üí On Hold ‚Üí Completed ‚Üí Archived
```

#### Project Roles
- **Owner** ‚Äî —Å–æ–∑–¥–∞—Ç–µ–ª—å, –ø–æ–ª–Ω—ã–µ –ø—Ä–∞–≤–∞ (1 person)
- **Admin** ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (N people)
- **Member** ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á, –ø—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –∑–∞–¥–∞—á –ø—Ä–æ–µ–∫—Ç–∞ (N people)
- **Viewer** ‚Äî —Ç–æ–ª—å–∫–æ –ø—Ä–æ—Å–º–æ—Ç—Ä (N people)

#### Project Metrics
- **Progress:** % –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á
- **Task counts:** –ø–æ —Å—Ç–∞—Ç—É—Å–∞–º (New, In Progress, Done, etc.)
- **Timeline:** start_date ‚Üí due_date
- **Team size:** –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
- **Burndown:** (optional, future) –≥—Ä–∞—Ñ–∏–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

#### Project Detail UI (3 tabs)
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Project: Website Redesign                              ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                    ‚îÇ
‚îÇ  ‚îÇ Overview ‚îÇ  Tasks   ‚îÇ  Boards  ‚îÇ  ‚Üê 3 tabs          ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                    ‚îÇ
‚îÇ                                                         ‚îÇ
‚îÇ  [Tab Content]                                          ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**Overview tab:**
- Project info (name, code, description, dates)
- Statistics (progress, task counts)
- Team members list
- Timeline visualization

**Tasks tab:**
- TaskList filtered by project_id
- All standard filters (status, priority, search)
- Create task button (auto-fills project_id)

**Boards tab:**
- List of project boards OR single board view
- Create board button (auto-fills project_id)

### Tasks

#### 3.1 Architecture Discussion & Concept Doc (0.5h)

**Goal:** –ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–µ –≤–∏–¥–µ–Ω–∏–µ

**Tasks:**
- [ ] Create `docs/PROJECTS_ARCHITECTURE.md`:
  - Project lifecycle diagram
  - Role permissions matrix
  - Metrics calculations
  - Integration points (Tasks, Boards)
  - Future: Programs ‚Üí Projects ‚Üí Tasks cascade
- [ ] Review with user (async via testing)

**Files to create:**
- `docs/PROJECTS_ARCHITECTURE.md`

---

#### 3.2 Backend: Models & Migrations (1h)

**Tasks:**
- [ ] Create `backend/app/modules/projects/models.py`:
  ```python
  class ProjectStatus(str, Enum):
      planning = "planning"
      active = "active"
      on_hold = "on_hold"
      completed = "completed"
      archived = "archived"

  class ProjectMemberRole(str, Enum):
      owner = "owner"
      admin = "admin"
      member = "member"
      viewer = "viewer"

  class Project(Base):
      id: UUID
      name: str (required, max 200)
      code: str (unique, max 50, uppercase, regex: ^[A-Z0-9_-]+$)
      description: str | None (text)
      status: ProjectStatus (default: planning)
      owner_id: UUID (FK users.id)
      department_id: UUID | None (FK departments.id)
      start_date: date | None
      due_date: date | None
      completed_at: datetime | None
      settings: dict | None (JSONB for custom fields)
      is_deleted: bool (default False)
      created_at, updated_at

  class ProjectMember(Base):
      id: UUID
      project_id: UUID (FK projects.id, CASCADE)
      user_id: UUID (FK users.id, CASCADE)
      role: ProjectMemberRole (default: member)
      joined_at: datetime
      # Unique constraint: (project_id, user_id)
  ```

- [ ] Create migration `*_create_projects_table.py`:
  - Create projects table
  - Create project_members table
  - Add FK: tasks.project_id ‚Üí projects.id (nullable)
  - Add FK: boards.project_id ‚Üí projects.id (nullable)
  - Create indexes (project_id, owner_id, status)

**Files to create:**
- `backend/app/modules/projects/__init__.py`
- `backend/app/modules/projects/models.py`
- `alembic/versions/*_create_projects_table.py`

---

#### 3.3 Backend: Schemas (0.5h)

**Tasks:**
- [ ] Create `backend/app/modules/projects/schemas.py`:
  ```python
  class ProjectCreate(BaseModel):
      name: str
      code: str  # validation: uppercase, alphanumeric + _ -
      description: str | None = None
      department_id: UUID | None = None
      start_date: date | None = None
      due_date: date | None = None

  class ProjectUpdate(BaseModel):
      name: str | None = None
      description: str | None = None
      status: ProjectStatus | None = None
      start_date: date | None = None
      due_date: date | None = None

  class ProjectResponse(BaseModel):
      # All Project fields
      owner: UserSimple  # {id, name, email}
      member_count: int  # calculated

  class ProjectWithStats(ProjectResponse):
      stats: dict  # {total_tasks, by_status: {...}, progress_percent}

  class ProjectMemberCreate(BaseModel):
      user_id: UUID
      role: ProjectMemberRole = "member"

  class ProjectMemberUpdate(BaseModel):
      role: ProjectMemberRole

  class ProjectMemberResponse(BaseModel):
      id: UUID
      project_id: UUID
      user: UserSimple
      role: ProjectMemberRole
      joined_at: datetime
  ```

**Files to create:**
- `backend/app/modules/projects/schemas.py`

---

#### 3.4 Backend: Service (1.5h)

**Tasks:**
- [ ] Create `backend/app/modules/projects/service.py`:
  ```python
  class ProjectService:
      # CRUD
      async def create(data: ProjectCreate, current_user: User) -> Project
      async def get_by_id(project_id: UUID) -> Project | None
      async def get_by_code(code: str) -> Project | None
      async def get_all(filters, pagination) -> list[Project]
      async def update(project_id: UUID, data: ProjectUpdate) -> Project
      async def delete(project_id: UUID) -> None  # soft delete

      # Stats
      async def get_project_stats(project_id: UUID) -> dict:
          # total_tasks, by_status, progress_percent

      # Tasks & Boards
      async def get_project_tasks(project_id: UUID, filters) -> list[Task]
      async def get_project_boards(project_id: UUID) -> list[Board]

      # Members
      async def add_member(project_id: UUID, data: ProjectMemberCreate) -> ProjectMember
      async def remove_member(project_id: UUID, user_id: UUID) -> None
      async def update_member_role(project_id: UUID, user_id: UUID, role) -> ProjectMember
      async def get_project_members(project_id: UUID) -> list[ProjectMember]
      async def check_user_access(project_id: UUID, user_id: UUID, min_role: str) -> bool
  ```

- [ ] Implement all methods
- [ ] Add validation:
  - code uniqueness
  - owner cannot be removed
  - at least one owner required
  - due_date >= start_date

**Files to create:**
- `backend/app/modules/projects/service.py`

---

#### 3.5 Backend: Router & Tests (1h)

**Tasks:**
- [ ] Create `backend/app/modules/projects/router.py`:
  ```python
  GET /projects  # list with filters (status, owner_id, department_id)
  POST /projects  # create (auto-assign current_user as owner)
  GET /projects/{id}  # details with stats
  PATCH /projects/{id}  # update
  DELETE /projects/{id}  # soft delete

  GET /projects/{id}/tasks  # tasks filtered by project
  GET /projects/{id}/boards  # boards filtered by project

  GET /projects/{id}/members  # list members
  POST /projects/{id}/members  # add member
  PATCH /projects/{id}/members/{user_id}  # change role
  DELETE /projects/{id}/members/{user_id}  # remove member
  ```

- [ ] Add permissions (check user is member with required role)
- [ ] Register router in `main.py`
- [ ] Create `tests/test_projects_api.py` (15+ scenarios)

**Files to create:**
- `backend/app/modules/projects/router.py`
- `tests/test_projects_api.py`

**Files to modify:**
- `backend/app/main.py` (register projects router)

---

#### 3.6 Backend: Integration with Tasks & Boards (0.5h)

**Tasks:**
- [ ] Update `backend/app/modules/tasks/service.py`:
  - Add project_id filter to get_all()
  - Validate project_id exists in create()
- [ ] Update `backend/app/modules/tasks/router.py`:
  - Add project_id query param to GET /tasks
- [ ] Update `backend/app/modules/boards/service.py`:
  - Add project_id filter to get_all()

**Files to modify:**
- `backend/app/modules/tasks/service.py`
- `backend/app/modules/tasks/router.py`
- `backend/app/modules/boards/service.py`

---

#### 3.7 Frontend: Types, API, Hooks (0.5h)

**Tasks:**
- [ ] Create `frontend/src/modules/projects/types.ts`
- [ ] Create `frontend/src/modules/projects/api.ts` (all methods)
- [ ] Create hooks:
  - `useProjects(filters)`
  - `useProject(id)`
  - `useProjectMutations()`
  - `useProjectMembers(projectId)`
  - `useProjectStats(projectId)`

**Files to create:**
- `frontend/src/modules/projects/types.ts`
- `frontend/src/modules/projects/api.ts`
- `frontend/src/modules/projects/hooks/useProjects.ts`
- `frontend/src/modules/projects/hooks/useProject.ts`
- `frontend/src/modules/projects/hooks/useProjectMutations.ts`
- `frontend/src/modules/projects/hooks/useProjectMembers.ts`
- `frontend/src/modules/projects/index.ts`

---

#### 3.8 Frontend: Shared Components (0.5h)

**Tasks:**
- [ ] Create `ProjectSelect.tsx` ‚Äî dropdown –¥–ª—è –≤—ã–±–æ—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ (for TaskFormModal, BoardFormModal)
- [ ] Create `ProjectBadge.tsx` ‚Äî inline badge —Å –∫–æ–¥–æ–º –ø—Ä–æ–µ–∫—Ç–∞ (for TaskRow, BoardCard)
- [ ] Create `ProjectStatusBadge.tsx` ‚Äî badge –¥–ª—è —Å—Ç–∞—Ç—É—Å–∞ –ø—Ä–æ–µ–∫—Ç–∞
- [ ] Create `ProjectCard.tsx` ‚Äî card –¥–ª—è —Å–ø–∏—Å–∫–∞ –ø—Ä–æ–µ–∫—Ç–æ–≤ (with progress bar, stats)

**Files to create:**
- `frontend/src/modules/projects/components/ProjectSelect.tsx`
- `frontend/src/modules/projects/components/ProjectBadge.tsx`
- `frontend/src/modules/projects/components/ProjectStatusBadge.tsx`
- `frontend/src/modules/projects/components/ProjectCard.tsx`

---

#### 3.9 Frontend: ProjectsPage (1h)

**Goal:** –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤ —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏ –∏ —Å–æ–∑–¥–∞–Ω–∏–µ–º

**Tasks:**
- [ ] Create `frontend/src/pages/ProjectsPage.tsx`:
  - Header: "–ü—Ä–æ–µ–∫—Ç—ã" + "–°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–µ–∫—Ç" button
  - Filters: status, owner, department, search
  - Grid of ProjectCard components
  - Pagination
  - Empty state

- [ ] Create `ProjectFormModal.tsx`:
  - Fields: name, code, description, department_id, dates
  - Validation (zod): code uppercase, alphanumeric
  - Create/Edit modes

**Files to create:**
- `frontend/src/pages/ProjectsPage.tsx`
- `frontend/src/modules/projects/components/ProjectFormModal.tsx`

---

#### 3.10 Frontend: ProjectDetailPage (1.5h)

**Goal:** –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –ø—Ä–æ–µ–∫—Ç–∞ —Å 3 –≤–∫–ª–∞–¥–∫–∞–º–∏

**Tasks:**
- [ ] Create `frontend/src/pages/ProjectDetailPage.tsx`:
  - Header: breadcrumb, title, status badge, actions (Edit, Archive)
  - Tabs: Overview, Tasks, Boards

- [ ] **Overview Tab:**
  - Project info section (description, dates, owner, department)
  - Statistics cards (total tasks, progress %, by status)
  - Timeline visualization (simple progress bar: start ‚Üí now ‚Üí due)
  - Team members section (avatars, roles, + Add Member button)

- [ ] **Tasks Tab:**
  - Reuse TaskList component
  - Auto-filter by project_id
  - "–°–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞—á—É" button (pre-fills project_id)

- [ ] **Boards Tab:**
  - List of project boards (if multiple) OR
  - Single board view (if one board per project)
  - "–°–æ–∑–¥–∞—Ç—å –¥–æ—Å–∫—É" button (pre-fills project_id)

- [ ] Create `ProjectMembersModal.tsx`:
  - List of members with roles
  - Add member (UserSelect + RoleSelect)
  - Change role (dropdown)
  - Remove member (confirmation)

**Files to create:**
- `frontend/src/pages/ProjectDetailPage.tsx`
- `frontend/src/modules/projects/components/ProjectOverviewTab.tsx`
- `frontend/src/modules/projects/components/ProjectTasksTab.tsx`
- `frontend/src/modules/projects/components/ProjectBoardsTab.tsx`
- `frontend/src/modules/projects/components/ProjectMembersModal.tsx`
- `frontend/src/modules/projects/components/ProjectStats.tsx`
- `frontend/src/modules/projects/components/ProjectTimeline.tsx`

---

#### 3.11 Frontend: Integration (0.5h)

**Tasks:**
- [ ] Add ProjectSelect to TaskFormModal
- [ ] Add ProjectSelect to BoardFormModal (if exists)
- [ ] Add project_id filter to TaskFilters
- [ ] Add ProjectBadge to TaskRow (show if task has project)
- [ ] Add "–ü—Ä–æ–µ–∫—Ç—ã" link to Sidebar navigation
- [ ] Update Router:
  ```typescript
  /projects  ‚Üí ProjectsPage
  /projects/:id  ‚Üí ProjectDetailPage (default to Overview tab)
  /projects/:id/tasks  ‚Üí ProjectDetailPage (Tasks tab)
  /projects/:id/boards  ‚Üí ProjectDetailPage (Boards tab)
  ```

**Files to modify:**
- `frontend/src/modules/tasks/components/TaskFormModal.tsx`
- `frontend/src/modules/tasks/components/TaskFilters.tsx`
- `frontend/src/modules/tasks/components/TaskRow.tsx`
- `frontend/src/shared/layout/Sidebar.tsx`
- `frontend/src/app/Router.tsx`

---

## üìù Testing Notes

**–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –±—É–¥–µ—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≥–æ—Ç–æ–≤—ã–µ –º–æ–¥—É–ª–∏ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ.**

–ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–π —Å–µ—Å—Å–∏–∏:
- [ ] –ó–∞–ø—É—Å—Ç–∏—Ç—å `docker-compose up -d` (–µ—Å–ª–∏ –Ω–µ –∑–∞–ø—É—â–µ–Ω–æ)
- [ ] –ó–∞–ø—É—Å—Ç–∏—Ç—å `npm run build` (frontend)
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å console –Ω–∞ –æ—à–∏–±–∫–∏
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –æ—Å–Ω–æ–≤–Ω—ã–µ user flows
- [ ] –ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –±–∞–≥–∏ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫

---

## üéØ Success Criteria

### Session 1
- ‚úÖ Global search placeholder –≤–∏–¥–Ω–∞ –≤ Header
- ‚úÖ TaskList search —Ä–∞–±–æ—Ç–∞–µ—Ç —Å debounce –∏ highlight
- ‚úÖ –ú–æ–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏ –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã
- ‚úÖ Backend tests pass (views module)

### Session 2
- ‚úÖ –ú–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —á–µ–∫-–ª–∏—Å—Ç–æ–≤ –Ω–∞ –∑–∞–¥–∞—á–µ
- ‚úÖ –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å/—É–¥–∞–ª—è—Ç—å –ø—É–Ω–∫—Ç—ã –≤ —á–µ–∫-–ª–∏—Å—Ç–µ
- ‚úÖ Toggle —Ä–∞–±–æ—Ç–∞–µ—Ç (checkbox)
- ‚úÖ Progress bar –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å —á–µ–∫-–ª–∏—Å—Ç–∞
- ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç—ã –≤–∏–¥–Ω—ã –Ω–∞ TaskDetailPage

### Session 3
- ‚úÖ –ú–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –ø—Ä–æ–µ–∫—Ç —Å –∫–æ–¥–æ–º –∏ –¥–∞—Ç–∞–º–∏
- ‚úÖ –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –ø—Ä–æ–µ–∫—Ç–∞ —Å —Ä–æ–ª—è–º–∏
- ‚úÖ –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø—Ä–æ–µ–∫—Ç–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∏ –ø—Ä–æ–≥—Ä–µ—Å—Å
- ‚úÖ –¢–∞—Å–∫–∏ —Ñ–∏–ª—å—Ç—Ä—É—é—Ç—Å—è –ø–æ –ø—Ä–æ–µ–∫—Ç—É
- ‚úÖ –¢—Ä–∏ –≤–∫–ª–∞–¥–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç (Overview, Tasks, Boards)
- ‚úÖ Backend tests pass (projects module, 15+ scenarios)
- ‚úÖ "–ü—Ä–æ–µ–∫—Ç—ã" –≤–∏–¥–Ω—ã –≤ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
- ‚úÖ –í TaskFormModal –º–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å –ø—Ä–æ–µ–∫—Ç

---

## üöÄ Next Steps (After 2026-01-05)

**Phase 1F: Gantt Chart (2-3 sessions)**
- Task dependencies (backend)
- Gantt component (frappe-gantt or similar)
- Integration into ProjectDetailPage (4th tab)
- Timeline editing via drag

**Phase 2C: AI & Polish (4-5 sessions)**
- SMART validation UI
- AI dialog panel
- Notifications UI
- Dashboard
- Final polish & testing

**MVP Complete:** ~50 sessions total

---

## üìö Reference Documents

- [CONTEXT.md](../CONTEXT.md) ‚Äî Current state
- [TODO.md](../TODO.md) ‚Äî Full implementation plan
- [ROADMAP.md](../ROADMAP.md) ‚Äî Sessions timeline
- [CLAUDE.md](../CLAUDE.md) ‚Äî Project conventions
- [ARCHITECTURE.md](./ARCHITECTURE.md) ‚Äî System architecture
- [SCHEMA_REGISTRY.md](./SCHEMA_REGISTRY.md) ‚Äî All schemas

---

**Good luck! üöÄ**
